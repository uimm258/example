{"ast":null,"code":"var _jsxFileName = \"/Users/maymayliu/antraReact/FRE-Training-080221/MovieTheater/client/src/App.js\";\nimport React, { Component } from 'react';\nimport { Route, Link } from 'react-router-dom';\nimport Context from '../Context';\nimport config from '../config';\nimport MovieListNav from '../components/MovieListNav/MovieListNav';\nimport MovieListMain from '../components/MovieListMain/MovieListMain';\nimport MoviePageNav from '../components/MoviePageNav/MoviePageNav';\nimport MoviePageMain from '../components/MoviePageMain/MoviePageMain';\nimport LoginRoute from '../components/Login/LoginRoute';\nimport AddGenre from '../components/AddGenre/AddGenre';\nimport AddMovie from '../components/AddMovie/AddMovie';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nclass App extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      genres: [],\n      movies: []\n    };\n\n    this.handleAddGenre = genre => {\n      this.setState({\n        genres: [...this.state.genres, genre]\n      });\n    };\n\n    this.handleAddMovie = movie => {\n      this.setState({\n        movies: [...this.state.movies, movie]\n      });\n    };\n\n    this.handleDeleteMovie = movieId => {\n      this.setState({\n        movies: this.state.movies.filter(movie => movie.id !== movieId)\n      });\n    };\n\n    this.handleDeleteGenre = genreId => {\n      this.setState({\n        genres: this.state.genres.filter(genre => genre.id !== genreId)\n      });\n    };\n  }\n\n  componentDidMount() {\n    Promise.all([fetch(`${config.API_ENDPOINT}/movies`), fetch(`${config.API_ENDPOINT}/genres`)]).then(([MoviesRes, GenreRes]) => {\n      if (!MoviesRes.ok) return MoviesRes.json().then(e => Promise.reject(e));\n      if (!GenreRes.ok) return GenreRes.json().then(e => Promise.reject(e));\n      return Promise.all([MoviesRes.json(), GenreRes.json()]);\n    }).then(([Movies, Genre]) => {\n      this.setState({\n        Movies,\n        Genre\n      });\n    }).catch(error => {\n      console.error({\n        error\n      });\n    });\n  }\n\n  renderNavRoutes() {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Route, {\n        path: \"/genre/:genre_id\",\n        component: MovieListNav\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: '/',\n        component: MovieListNav\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/movies/:movieId\",\n        component: MoviePageNav\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/add-genre\",\n        component: MoviePageNav\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/add-movie\",\n        component: MoviePageNav\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true);\n  }\n\n  renderMainRoutes() {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Route, {\n        path: '/login',\n        component: LoginRoute\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        exact: true,\n        path: \"/genre/:genre_id\",\n        component: MovieListMain\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/movies/:movieId\",\n        component: MoviePageMain\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/add-genre\",\n        component: AddGenre\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/add-movie\",\n        component: AddMovie\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true);\n  }\n\n  render() {\n    const value = {\n      Genre: this.state.Genre,\n      Movies: this.state.Movies,\n      addGenre: this.handleAddGenre,\n      addMovie: this.handleAddMovie,\n      deleteMovie: this.handleDeleteMovie,\n      deleteGenre: this.handleDeleteGenre\n    };\n    return /*#__PURE__*/_jsxDEV(Context.Provider, {\n      value: value,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"Route\",\n        children: [/*#__PURE__*/_jsxDEV(\"nav\", {\n          className: \"Route_nav\",\n          children: this.renderNavRoutes()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"header\", {\n          className: \"Route_header\",\n          children: /*#__PURE__*/_jsxDEV(\"h1\", {\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/\",\n              children: \" Maymay's Movie Page\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 122,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n          className: \"Route_main\",\n          children: this.renderMainRoutes()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/maymayliu/antraReact/FRE-Training-080221/MovieTheater/client/src/App.js"],"names":["React","Component","Route","Link","Context","config","MovieListNav","MovieListMain","MoviePageNav","MoviePageMain","LoginRoute","AddGenre","AddMovie","App","state","genres","movies","handleAddGenre","genre","setState","handleAddMovie","movie","handleDeleteMovie","movieId","filter","id","handleDeleteGenre","genreId","componentDidMount","Promise","all","fetch","API_ENDPOINT","then","MoviesRes","GenreRes","ok","json","e","reject","Movies","Genre","catch","error","console","renderNavRoutes","renderMainRoutes","render","value","addGenre","addMovie","deleteMovie","deleteGenre"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Route, Link } from 'react-router-dom';\nimport Context from '../Context';\nimport config from '../config';\nimport MovieListNav from '../components/MovieListNav/MovieListNav';\nimport MovieListMain from '../components/MovieListMain/MovieListMain';\nimport MoviePageNav from '../components/MoviePageNav/MoviePageNav';\nimport MoviePageMain from '../components/MoviePageMain/MoviePageMain';\nimport LoginRoute from '../components/Login/LoginRoute';\nimport AddGenre from '../components/AddGenre/AddGenre';\nimport AddMovie from '../components/AddMovie/AddMovie';\n\nclass App extends Component {\n  state = {\n    genres: [],\n    movies: [],\n  }\n\n  componentDidMount() {\n    Promise.all([\n        fetch(`${config.API_ENDPOINT}/movies`),\n        fetch(`${config.API_ENDPOINT}/genres`)\n    ])\n        .then(([MoviesRes, GenreRes]) => {\n            if (!MoviesRes.ok)\n                return MoviesRes.json().then(e => Promise.reject(e));\n            if (!GenreRes.ok)\n                return GenreRes.json().then(e => Promise.reject(e));\n\n            return Promise.all([MoviesRes.json(), GenreRes.json()]);\n        })\n        .then(([Movies, Genre]) => {\n            this.setState({Movies, Genre});\n        })\n        .catch(error => {\n            console.error({error});\n        });\n}\n\n  handleAddGenre = genre => {\n    this.setState({\n      genres: [...this.state.genres, genre]\n    }\n  )}\n\n  handleAddMovie = movie => {\n    this.setState({\n      movies: [...this.state.movies, movie]\n    })\n  }\n\n  handleDeleteMovie = movieId => {\n    this.setState({\n      movies: this.state.movies.filter(movie => movie.id !== movieId)\n    })\n  }\n\n  handleDeleteGenre = genreId => {\n    this.setState({\n      genres: this.state.genres.filter(genre => genre.id !== genreId)\n    })\n  }\n\n  renderNavRoutes() {\n    return (\n      <>\n          <Route\n              path={\"/genre/:genre_id\"}\n              component={MovieListNav}\n          />\n          <Route\n              path={'/'}\n              component={MovieListNav}\n          />\n\n        <Route path='/movies/:movieId' component={MoviePageNav}\n        />\n        <Route path='/add-genre' component={MoviePageNav} />\n        <Route path='/add-movie' component={MoviePageNav} />\n      </>\n    )\n  }\n\n  renderMainRoutes() {\n    return (\n      <>\n        <Route path={'/login'} component={LoginRoute} />\n        \n        <Route\n            exact\n            path=\"/genre/:genre_id\"\n            component={MovieListMain}\n          />\n        \n        <Route path=\"/movies/:movieId\" component={MoviePageMain} />\n        <Route path='/add-genre' component={AddGenre} />\n        <Route path='/add-movie' component={AddMovie} />\n\n      </>\n    );\n  }\n\n  render() {\n    const value = {\n      Genre: this.state.Genre,\n      Movies: this.state.Movies,\n      addGenre: this.handleAddGenre,\n      addMovie: this.handleAddMovie,\n      deleteMovie: this.handleDeleteMovie,\n      deleteGenre: this.handleDeleteGenre\n    };\n\n    return (\n      <Context.Provider value={value}>\n        <div className=\"Route\">\n          <nav className=\"Route_nav\">\n              {this.renderNavRoutes()}\n          </nav>\n\n          <header className=\"Route_header\">\n            <h1>\n              <Link to=\"/\"> Maymay's Movie Page</Link>\n            </h1>\n          </header>\n\n          <main className=\"Route_main\">\n            {this.renderMainRoutes()}\n          </main>\n        </div>\n      </Context.Provider>\n    )\n  }\n\n}\n\nexport default App;"]},"metadata":{},"sourceType":"module"}